/**
 * EHS App Dashboard Statistics Fix
 * 
 * This script adds click functionality to the dashboard statistics cards
 * in the SafetySync EHS application. It makes the statistics cards interactive
 * by adding click event handlers, cursor styling, and hover effects.
 * 
 * Problem: Dashboard statistics cards (Open Incidents, Maintenance Requests, etc.)
 * were not clickable, preventing users from interacting with them.
 * 
 * Solution: Add event listeners to make the cards clickable and navigate to
 * appropriate sections when clicked, plus visual feedback for better UX.
 */

// Function to make dashboard statistics cards interactive
function makeDashboardStatisticsClickable() {
  // Get all statistics cards on the dashboard
  const statCards = document.querySelectorAll('.stat-card');
  console.log('Making', statCards.length, 'dashboard statistics cards clickable');

  // Add click event listeners to each statistics card
  statCards.forEach((card) => {
    // Get the title/category of this statistics card
    const cardTitle = card.querySelector('h3') ? card.querySelector('h3').textContent.trim() : '';
    const cardText = card.textContent.toLowerCase();
    
    // Add the click event listener
    card.addEventListener('click', function() {
      // Determine which section to navigate to based on the card content
      if (cardText.includes('incident')) {
        console.log('Navigating to Incident Reporting section');
        window.location.href = 'incident-reporting.html';
      } 
      else if (cardText.includes('maintenance')) {
        console.log('Navigating to Maintenance Requests section');
        window.location.href = 'maintenance-requests.html';
      }
      else if (cardText.includes('audit')) {
        console.log('Navigating to Audits & Inspections section');
        window.location.href = 'audits-inspections.html';
      }
      else if (cardText.includes('housekeeping')) {
        console.log('Navigating to Housekeeping section');
        window.location.href = 'housekeeping.html';
      }
      else {
        console.log('Unknown card type, no navigation target');
        alert('This feature is coming soon!');
      }
    });
    
    // Add cursor pointer style to indicate clickability
    card.style.cursor = 'pointer';
    
    // Add hover effect styles
    card.style.transition = 'transform 0.2s, box-shadow 0.2s';
    
    // Add event listeners for hover effects
    card.addEventListener('mouseenter', function() {
      this.style.transform = 'translateY(-5px)';
      this.style.boxShadow = '0 10px 20px rgba(0,0,0,0.1)';
    });
    
    card.addEventListener('mouseleave', function() {
      this.style.transform = 'translateY(0)';
      this.style.boxShadow = '0 4px 8px rgba(0,0,0,0.1)';
    });
  });
  
  console.log('Dashboard statistics cards are now clickable with visual feedback');
}

// Call the function when the DOM is fully loaded
document.addEventListener('DOMContentLoaded', makeDashboardStatisticsClickable);

// If the page is already loaded, run the function immediately
if (document.readyState === 'complete' || document.readyState === 'interactive') {
  makeDashboardStatisticsClickable();
}
